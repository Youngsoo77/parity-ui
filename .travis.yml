sudo: false
language: node_js
node_js:
- '5'

matrix:
  include:
    - env: SCRIPT=lint
    - env: SCRIPT=testOnce
    - env: SCRIPT=nightwatchCI
      addons:
        username: "ethcoreHQ"
        access_key: 
          secure: "VQwggQ4DppIIx3w5PC7BgpBRue7979q7cEyC+rcknFkbhfrIwlxyip4U7VWheRSOcfSKxvK8hCz2KoCYWfmZujQjBVFHuu5FKh6LR+hJVKppOumscjI4qLVEBCrYGwHc0QLmv84QbUy0MoFuQbmEAuf0tqCSzA7ibNpGc6P8EkH/E6H3IPIiOQQeaVXUjNs791est/ocnWdnZ4Hdpalkshpd3lthZfuijeLVoLXlIXiyH/ELo0EnaFKtZk6w19yTgSZNzCk1ojkNNBkORkuMJfOUpbEm5T9OFd2rP39nn6KxrMBTMhcI45aGsidYwLE6y0nTiCU03XCrPhh5Z5Ns/aEuTn8d6sOJe93aQCv4lhUqBmsjIDsrwdVG8cbcGyGQb51nyW+QLL1JvHeT98K+DYkrpGM5pYEffe3NdlbG2ymoPHhBjrSVMt/IQZo5+3mpW5K9yfCFANJnC+7IKbO1UWZCwnkbRx3WLVLwIDs9/czDlbs4+9C9gMVY9r6DTh/fmg01OEIjpk2zphyZ4EiCXyzdV+DOxnWnlJXp6uv2IMXM49aCmE7xJRRUY/SQjqTzLkGIbyHW7MLi8eKnrG02VNNrjID6uGgyO0ryIJjWHXUuNRAhWmdMTLL17+ypfYk4NnEeEY9uOo/r/2C6iAvDvvYnGguhaVsldh2L6t3fJXM="
  global:
    - env: CXX=g++-4.8

cache:
  directories:
    - node_modules

before_script:
  - if [ "$SCRIPT" == "nightwatchCI" ]; then npm run startTest & fi
  - if [ "$SCRIPT" == "nightwatchCI" ]; then sleep 15; fi

script: "npm run $SCRIPT"

